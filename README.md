# TuMan
A Pipelined RISC-V Core

## Hardware part
There are 8 files in "Hardware" folder

| File name | Function description |
|-----------|----------------------|
| TuMan_core.v |  A small but pipelined RISC-V processor |
| TuMan_top.v |   Connect the TuMan_core and instrcution/data ram |
| memory.v |      Instrcution ram (i.e., ITCM) and data ram (i.e, DTCM) |
| conf_mem.v |    Configure ITCM/DTCM using Ethernet packets whose type are 0x9001-0x9004; Output the "printf" generated by CPU with Ethernet packets whose type are 0x9005 |
| um.v | A top file of [FAST program](http://www.fastswitch.org/) (an open source object), used to connect ITCM/DTCM and CPU |
| gen_data_instr.v |  Read binary program from firmware.hex, and generate Ethernet packets in FAST format to configure ITCM and DTCM |
| testbench_for_P2RV.v |  A testbench for this project |
| firmware.hex |  binary file i.e., firmware.hex, generated by risc-tools (currently, we do only support RISCV-32I) |

## Software part
There are 2 floders in "Software" folder:

| Folder name | Function description |
|-------------|----------------------|
| firmware    | generate firmware.hex|
| controller  | communicate with cpu |

## Simulation
### Steps
1) Generating firmware.hex by using commonds in firmware folder
2) Using vivado/Modesim to simulate these project by loading hardware files and firmware.hex

### Result
Run this program, and you will get following result: "Hello, AoTuman!"

## FPGA Emulation
We currently only provide support for the [OpenBox-S4](https://github.com/fast-codesign/FAST-OpenBox_S4-impl). We provide pre-build binary program and bitstream files for OpenBox-S4 [here](https://github.com/JunnanLi/TuMan/tree/master/mcs%26hex).
### FPGA 
### Steps
1) Generating firmware.hex by using commonds in firmware folder
2) Using vivado/Modesim to simulate these project by loading hardware files and firmware.hex

